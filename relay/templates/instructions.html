<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Tally Light Instructions</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            line-height: 1.6;
            margin: 20px;
            color: #333;
        }
        h2 {
            color: #006699;
        }
        h3 {
            color: #333;
        }
        p {
            margin-bottom: 20px;
        }
        ul {
            list-style-type: decimal;
            margin-left: 20px;
        }
        ul ul {
            list-style-type: lower-alpha;
            margin-left: 20px;
        }
        .color-explanation {
            margin-top: 30px;
        }
        .color-explanation dt {
            font-weight: bold;
        }
        .color-explanation dd {
            margin-left: 20px;
            margin-bottom: 10px;
        }
    </style>
</head>
<body>
    <h2>How to Use</h2>
    <p>Follow these instructions to set up your tally Lights:</p>

    <ol>
        <li>
            Determine which mode to use.
        </li>
         <li>
            Read the entire instructions first.
        </li>
        <li>
            Modes of operation:
            <ul>
                <li><strong>A</strong>: Tally Lights connect directly to ATEM</li>
                <li><strong>B</strong>: Tally Lights connect via RELAY server and .exe program</li>
            </ul>
        </li>
        <li>
            If mode <strong>A</strong>:
            <ul>
                <li>Power up ATEM switcher, connect it to the internet via ethernet cable.</li>
                <li>Power up Tally Lights.</li>
                <li>Flip the switch button to turn on SOFT AP mode; the LED must turn white!</li>
                <li>On your phone, open WiFi and find a new network called something like "tally setup" or "ESP-...". Connect to it.</li>
                <li>Open your browser and type <code>192.168.4.1</code>. Click enter and input all the required settings, including ATEM's local IP. Ensure the "use relay server" setting is set to <strong>FALSE</strong>.</li>
                <li>Click save! And you are ready to go!</li>
            </ul>
        </li>
        <li>
            If mode <strong>B</strong>:
            <ul>
                <li>Power up ATEM, connect it to the internet via ethernet cable.</li>
                <li>Get any computer, power it up, and connect it to the same WiFi network as ATEM.</li>
                <li>On the computer, open a browser and type: <a href="https://tally.pamparampam.dev/download/program">tally.pamparampam.dev/download/program</a>.</li>
                <li>After the .exe file is downloaded, run it. </li>
                    <ul>
                        <li>Make sure virus blocker is not blocking the .exe file access to internet.</li>
                    </ul>
                    <ul>
                        <li>You may need to disable Windows Defender, google it up.</li>
                    </ul>
                <li>When prompted, input the required settings. Type 'skip' for first 2 settings if u don't understand them. This will use default ones.</li>
                    <ul>
                        <li>Relay Room ID is a unique identifier. Create a unique word or number and <strong>MEMORIZE IT!</strong>. This Relay Room ID will be used later to pair .exe program with Tally Lights.</li>
                    </ul>
                <li>If everything works, you should see <code>Connected to Atem Switcher and Connected to Websocket!"</code></li>
                <li>Power up Tally Lights.</li>
                <li>Flip the switch button to turn on SOFT AP mode; the LED must turn white!</li>
                <li>On your phone, open WiFi and find a new network called something like "tally setup" or "ESP-...". Connect to it.</li>
                <li>Open your browser and type <code>192.168.4.1</code>. Click enter and input all the required settings. Ensure the "use relay server" setting is set to <strong>TRUE</strong>.</li>
                    <ul>
                        <li>It's extremely important to input the same values as in the .exe program in step 6.</li>
                        <li>If you used the default ones, they will be:
                            <ul>
                                <li>Relay WebSocket Host: <code>tally.pamparampam.dev</code></li>
                                <li>Relay WebSocket Path: <code>/tally</code></li>
                                <li>Relay WebSocket Port: <code>443</code></li>
                                <li>Relay Room ID: <code>your unique Room ID</code> from step 6</li>
                            </ul>
                        </li>
                    </ul>

                <li>Click save! And you are ready to go!</li>
            </ul>
        </li>
    </ol>

    <h2>Charging</h2>
    <p>Plug the USB-C cable into the Tally Light. Ensure that there is a red light visible inside the case. Charge for 2-4 hours. The battery life is estimated to be around 20 hours.</p>

    <h2>Explanation of Colors</h2>
    <dl class="color-explanation">
        <dt>Blue</dt>
        <dd>Tally Light is trying to connect to WiFi. If it's blue for a long time, you most likely have given it the wrong WiFi credentials.</dd>

        <dt>White</dt>
        <dd>SOFT AP mode is ON. You can find a WiFi network, connect to it, and by typing <code>192.168.1.4</code> in your browser, you can change tally's settings.</dd>

        <dt>Pink</dt>
        <dd>Connected to WiFi, trying to connect either to ATEM or Relay Server.</dd>

        <dt>Yellow</dt>
        <dd>Connected to WiFi and relay server, no info about preview/live. Most likely the .exe program is not set up correctly.</dd>

        <dt>Green</dt>
        <dd>Tally is on PREVIEW.</dd>

        <dt>Red</dt>
        <dd>Tally is LIVE.</dd>

        <dt>Off</dt>
        <dd>Either Tally Light is not turned on, or Tally is neither on PREVIEW nor on LIVE.</dd>
    </dl>
    <h2>Contact</h2>
    <a href="https://github.com/pam-param-pam/Tally-light">Github</a>
</body>
</html>
